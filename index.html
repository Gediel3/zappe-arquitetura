<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Sinais Aviator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* Configuração de fonte padrão e fundo escuro */
        body {
            font-family: 'Inter', sans-serif;
            /* Mais escuro, com gradiente sutil para profundidade */
            background-color: #0e0d1b; 
            background-image: radial-gradient(circle at center, #1b1932 1%, #0e0d1b 100%);
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* Animação de carregamento simulado */
        .loading-animation {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #f97316; /* Laranja da chama */
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Estilo da caixa de sinal - efeito de néon/brilho aprimorado */
        .signal-box {
            background-color: #1f1d36; /* Fundo mais escuro/roxo */
            border: 1px solid #3c3b5d; /* Borda sutil */
            box-shadow: 0 0 30px rgba(249, 115, 22, 0.5), 0 0 10px rgba(249, 115, 22, 0.2); /* Brilho laranja mais forte */
        }
        
        .signal-multiplier {
            /* Efeito de néon mais intenso */
            text-shadow: 0 0 15px #f97316, 0 0 30px #fb923c;
            transition: all 0.3s ease-in-out;
            color: #f97316; /* Garante que o texto base seja laranja */
        }

        /* Estilo para a caixa de resultado individual */
        .result-card {
            background-color: #272744;
            border: 1px solid #3c3b5d;
        }

        /* Classe para o botão: Laranja vibrante com sombra */
        .btn-primary {
            background-color: #f97316;
            box-shadow: 0 8px 15px rgba(249, 115, 22, 0.5); /* Sombra 3D/Pop */
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s, opacity 0.3s; /* Adicionado opacity para o cooldown */
        }
        .btn-primary:hover:not(:disabled) { /* Apenas efeito hover se não estiver disabled */
            background-color: #fb923c;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(249, 115, 22, 0.7);
        }
        .btn-primary:active:not(:disabled) {
            transform: translateY(0px);
            box-shadow: 0 5px 10px rgba(249, 115, 22, 0.4);
        }

        /* Estilo da barra de progresso */
        .confidence-bar-bg {
            background-color: #3c3b5d;
        }
        .confidence-bar-fill {
            /* Adiciona uma transição suave para a animação da barra */
            transition: width 1s ease-out; 
            background-image: linear-gradient(to right, #4ade80, #10b981); /* Gradiente verde */
        }
    </style>
    <script>
        // Variáveis globais para controlar o estado e o cooldown
        let isGenerating = false;
        const COOLDOWN_DURATION = 30; // 30 segundos
        let cooldownInterval = null;

        // Credenciais Fixas (MANTIDAS NO CÓDIGO, OCULTAS NA INTERFACE)
        const CORRECT_USERNAME = 'tulio'; // Usuário atualizado para 'tulio'
        const CORRECT_PASSWORD = 'teste'; 

        /**
         * Gera um número aleatório dentro de um intervalo.
         * @param {number} min - O valor mínimo (inclusivo).
         * @param {number} max - O valor máximo (inclusivo).
         * @returns {number} O número aleatório gerado.
         */
        function getRandomArbitrary(min, max) {
            return Math.random() * (max - min) + min;
        }

        /**
         * Inicia o cronômetro de resfriamento (cooldown) e atualiza o botão.
         */
        function startCooldown() {
            const generateButton = document.getElementById('generateButton');
            let remainingTime = COOLDOWN_DURATION;

            // Desativa o botão e define o estilo de inatividade
            generateButton.disabled = true;
            generateButton.classList.add('opacity-50', 'cursor-not-allowed');
            
            // Define o intervalo para o contador regressivo
            cooldownInterval = setInterval(() => {
                remainingTime--;
                
                if (remainingTime <= 0) {
                    // Fim do cooldown
                    clearInterval(cooldownInterval);
                    cooldownInterval = null;
                    generateButton.innerHTML = 'GERAR NOVO SINAL';
                    generateButton.disabled = false;
                    generateButton.classList.remove('opacity-50', 'cursor-not-allowed');
                } else {
                    // Atualiza o contador no botão
                    generateButton.innerHTML = `AGUARDE ${remainingTime}s`;
                }
            }, 1000);
        }

        /**
         * Simula a geração do sinal.
         */
        function generateSignal() {
            // Verifica se já está gerando OU em cooldown
            if (isGenerating || cooldownInterval) {
                return;
            }

            const signalMultiplierEl = document.getElementById('signalMultiplier');
            const confidenceLevelEl = document.getElementById('confidenceLevel');
            const confidenceBarFillEl = document.getElementById('confidenceBarFill');
            const generateButton = document.getElementById('generateButton');

            // 1. Iniciar o estado de carregamento
            isGenerating = true;
            generateButton.innerHTML = '<div class="loading-animation"></div>';
            generateButton.disabled = true;
            generateButton.classList.add('opacity-50', 'cursor-not-allowed');
            signalMultiplierEl.textContent = '...';
            confidenceLevelEl.textContent = '...';
            confidenceBarFillEl.style.width = '0%'; // Resetar barra

            // Simular um atraso de processamento de 1 a 1.8 segundos
            setTimeout(() => {
                // 2. Lógica de geração de "Sinal" (Máximo 3.00X)
                
                let multiplier;
                const rng = Math.random();

                if (rng < 0.80) {
                    // 80% chance: Baixo risco (1.30x a 2.00x)
                    multiplier = getRandomArbitrary(1.3, 2.0);
                } else {
                    // 20% chance: Médio risco (2.01x a 3.00x)
                    multiplier = getRandomArbitrary(2.01, 3.0);
                }
                const multiplierFixed = multiplier.toFixed(2);

                // Nível de confiança ajustado para o novo limite (Max 3.00X)
                let confidence = 0;
                if (multiplier < 1.75) {
                    confidence = getRandomArbitrary(88, 98); // Altíssima confiança
                } else if (multiplier < 2.5) {
                    confidence = getRandomArbitrary(75, 87); // Alta confiança
                } else {
                    confidence = getRandomArbitrary(60, 74); // Média confiança
                }
                const confidenceFixed = confidence.toFixed(0);

                // 3. Exibir resultados e animar barra de confiança
                signalMultiplierEl.textContent = `${multiplierFixed}X`;
                confidenceLevelEl.textContent = `${confidenceFixed}%`;
                confidenceBarFillEl.style.width = `${confidenceFixed}%`;

                // 4. Finalizar o estado de carregamento e iniciar o cooldown
                isGenerating = false;
                startCooldown(); // Inicia o cooldown de 30 segundos

            }, getRandomArbitrary(1000, 1800)); 
        }

        /**
         * Fecha o modal.
         */
        function closeModal() {
            document.getElementById('infoModal').classList.add('hidden');
        }

        /**
         * Função utilitária para mostrar modal com status e mensagem.
         * @param {string} title - Título do modal.
         * @param {string} message - Mensagem do modal.
         * @param {string} status - 'success', 'error', ou 'info'.
         * @param {function} [callback=null] - Função a ser executada após fechar o modal.
         */
        function showCustomModal(title, message, status = 'info', callback = null) {
            const modal = document.getElementById('infoModal');
            const modalHeader = document.getElementById('modalHeader');
            const modalMessage = document.getElementById('modalMessage');
            const modalButton = document.getElementById('modalButton');
            const modalBox = document.getElementById('modalBox');

            // Reset classes
            modalHeader.className = 'text-xl font-bold mb-4 flex items-center';
            modalMessage.textContent = message;
            modalButton.onclick = () => {
                closeModal();
                if (callback) callback();
            };

            let iconSvg = '';
            let textColor = '';

            // Define estilo baseado no status
            if (status === 'success') {
                textColor = 'text-green-400';
                iconSvg = '<svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>';
            } else if (status === 'error') {
                textColor = 'text-red-400';
                iconSvg = '<svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>';
            } else { // info
                textColor = 'text-yellow-400';
                iconSvg = '<svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2h.01a1 1 0 000-2H9z" clip-rule="evenodd"></path></svg>';
            }
            
            modalHeader.classList.add(textColor);
            modalHeader.innerHTML = iconSvg + title;
            modal.classList.remove('hidden');
        }

        /**
         * Lida com o processo de login usando credenciais fixas.
         */
        function handleLogin() {
            const usernameInput = document.getElementById('username').value;
            const passwordInput = document.getElementById('password').value;
            
            // Verifica as credenciais
            if (usernameInput === CORRECT_USERNAME && passwordInput === CORRECT_PASSWORD) {
                // Sucesso
                showCustomModal(
                    'Login Bem-sucedido!', 
                    'Acesso liberado. Você pode começar a usar o gerador de sinais simulados.', 
                    'success', 
                    () => {
                        // Callback após fechar o modal
                        document.getElementById('loginContainer').classList.add('hidden');
                        document.getElementById('appContent').classList.remove('hidden');
                        generateSignal();
                    }
                );
            } else {
                // Falha
                showCustomModal(
                    'Falha no Login', 
                    'Usuário ou senha incorretos. Verifique suas credenciais.', 
                    'error'
                );
            }
        }

        // Garante que as funções sejam anexadas após o carregamento da página
        window.onload = () => {
            const generateButton = document.getElementById('generateButton');
            generateButton.addEventListener('click', generateSignal);
            
            // Anexa o manipulador de login ao botão
            document.getElementById('loginButton').addEventListener('click', handleLogin);
            
            // Permite login ao apertar ENTER no formulário
            document.getElementById('loginForm').addEventListener('submit', (e) => {
                e.preventDefault();
                handleLogin();
            });
            
            // Configura o modal de informação inicial, mas não o exibe mais automaticamente
            document.getElementById('modalButton').addEventListener('click', closeModal);
        };
    </script>
</head>
<body>

    <!-- Modal de Confirmação e Aviso (Unificado) -->
    <div id="infoModal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50 flex items-center justify-center p-4">
        <div id="modalBox" class="bg-gray-800 rounded-xl p-6 w-full max-w-sm shadow-2xl">
            <!-- Título com Ícone dinâmico -->
            <h3 id="modalHeader" class="text-xl font-bold text-red-400 mb-4 flex items-center">
                <!-- Conteúdo do ícone e título será injetado via JS -->
            </h3>
            <p id="modalMessage" class="text-gray-300 text-sm">
                <!-- Conteúdo da mensagem será injetado via JS -->
            </p>
            <button id="modalButton" class="mt-6 w-full btn-primary text-white font-bold py-2 px-4 rounded-lg">
                Entendi
            </button>
        </div>
    </div>
    
    <!-- CONTEÚDO DE LOGIN -->
    <div id="loginContainer" class="w-full max-w-md p-6 sm:p-8 rounded-2xl signal-box transition-all duration-300">
        <h1 class="text-3xl font-extrabold text-center mb-2 text-white">✈️ Acesso Exclusivo</h1>
        <p class="text-center text-sm mb-8 text-gray-400">Entre com suas credenciais para acessar o simulador de sinais.</p>
        
        <form id="loginForm">
            <!-- Campo Usuário -->
            <div class="mb-4">
                <label for="username" class="block text-sm font-medium text-gray-300 mb-1">Usuário</label>
                <!-- Placeholder profissional -->
                <input type="text" id="username" name="username" placeholder="Digite seu nome de usuário" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-orange-500 focus:border-orange-500" required>
            </div>

            <!-- Campo Senha -->
            <div class="mb-6">
                <label for="password" class="block text-sm font-medium text-gray-300 mb-1">Senha</label>
                 <!-- Placeholder profissional -->
                <input type="password" id="password" name="password" placeholder="Digite sua senha" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-orange-500 focus:border-orange-500" required>
            </div>

            <!-- Botão de Login -->
            <button type="button" id="loginButton" class="w-full btn-primary text-white font-black text-lg py-4 px-6 rounded-xl uppercase flex items-center justify-center">
                ENTRAR
            </button>
        </form>
    </div>
    
    <!-- CONTEÚDO PRINCIPAL (INICIALMENTE OCULTO) -->
    <div id="appContent" class="hidden w-full max-w-md p-6 sm:p-8 rounded-2xl signal-box transition-all duration-300">
        
        <h1 class="text-3xl font-extrabold text-center mb-2 text-white">✈️ Gerador de Sinais Aviator</h1>
        <p class="text-center text-sm mb-6 text-gray-400">Análise de probabilidade estatística em tempo real.</p>

        <!-- Seção de Aviso Legal (CRÍTICO) -->
        <div class="bg-red-900 bg-opacity-30 border border-red-700 p-4 rounded-xl mb-6 shadow-lg">
            <h2 class="font-bold text-red-300 mb-1 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.427 2.65-1.427 3.414 0l.968 1.801-1.053.567L10 3.82l-1.586.847L7.289 4.9L8.257 3.099zM10 17a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>
                ATENÇÃO: Limite de Saque $3.00$X
            </h2>
            <p class="text-sm text-red-200">
                Este gerador simula apenas estratégias de baixo risco e exige um **cooldown** de $30$ segundos para nova leitura. Lembre-se, resultados são aleatórios.
            </p>
        </div>

        <!-- Painel de Resultados (NOVO LAYOUT) -->
        <div class="grid grid-cols-1 gap-4 mb-8">
            
            <!-- Multiplicador Previsto -->
            <div class="p-6 result-card rounded-xl text-center shadow-lg">
                <p class="text-md font-semibold uppercase text-gray-400 mb-2">Multiplicador Previsto (Simulado)</p>
                <!-- O signal-multiplier tem o efeito neon definido no CSS -->
                <p id="signalMultiplier" class="text-7xl font-extrabold signal-multiplier">
                    --X
                </p>
            </div>

            <!-- Nível de Confiança com Barra de Progresso -->
            <div class="p-4 result-card rounded-xl shadow-lg">
                <div class="flex justify-between items-center mb-2">
                    <p class="text-md font-semibold uppercase text-gray-400">Nível de Confiança</p>
                    <p id="confidenceLevel" class="text-xl font-extrabold text-green-400">--%</p>
                </div>
                
                <!-- Barra de Progresso -->
                <div class="confidence-bar-bg h-3 rounded-full overflow-hidden">
                    <div id="confidenceBarFill" class="confidence-bar-fill h-full rounded-full" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Botão de Ação -->
        <button id="generateButton" class="w-full btn-primary text-white font-black text-lg py-4 px-6 rounded-xl uppercase flex items-center justify-center">
            GERAR SINAL
        </button>
        
    </div>

</body>
</html>
